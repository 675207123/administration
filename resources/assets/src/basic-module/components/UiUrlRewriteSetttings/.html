<div class="box box-solid">
    <div class="box-header with-border">
        <h3 class="box-title">伪静态设置</h3>
    </div>
    <!-- /.box-header -->
    <!-- form start -->
    <validator name="validation">
        <form class="form-horizontal" novalidate @submit="onSubmit">
            <div class="box-body">
                <table class="table table-striped">
                    <tr class="top">
                        <th style="width: 1%">页面</th>
                        <th style="width: 1%">可用参数</th>
                        <th>格式</th>
                        <th style="width: 1%; text-align: right">
                            <input type="checkbox" v-model="checkAll">
                        </th>
                    </tr>
                    <tr v-for="rule in rules">
                        <td>{{ rule.page }}</td>
                        <td>
                            <template v-for="argument in rule.arguments">
                                <code>{{ argument }}</code>{{'&nbsp;'}}
                            </template>
                        </td>
                        <td>
                            <input type="text" v-model="rule.format"
                                   :class="{ 'error': ($validation['format' + $index] === undefined ? false : $validation['format' + $index].invalid) }"
                                   :field="'format' + $index"
                                   v-validate="{ required: { rule: true, message: '附件大小不能为空' } }">
                        </td>
                        <td>
                            <input type="checkbox" v-model="rule.enable">
                        </td>
                    </tr>
                </table>
            </div>
            <!-- /.box-body -->
            <div class="box-footer">
                <button type="submit" class="btn btn-primary pull-right" :disabled="$validation.invalid">保存</button>
            </div>
            <!-- /.box-footer -->
        </form>
    </validator>
</div>
